<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Git | Petrie's Site</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content><meta name=generator content="Hugo 0.99.1"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link href=/tags/git/index.xml rel=alternate type=application/rss+xml title="Petrie's Site"><link href=/tags/git/index.xml rel=feed type=application/rss+xml title="Petrie's Site"><meta property="og:title" content="Git"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://petrie.github.io/tags/git/"><meta itemprop=name content="Git"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="Git"><meta name=twitter:description content></head><body class="ma0 avenir bg-near-white"><header><div class="pb3-m pb6-l bg-black"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Petrie's Site</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav><div class="tc-l pv3 ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">Git</h1></div></div></header><main class=pb7 role=main><article class="cf pa3 pa4-m pa4-l"><div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links mid-gray"><p>Below you will find pages that utilize the taxonomy term “Git”</p></div></article><div class="mw8 center"><section class="flex-ns flex-wrap justify-around mt5"><div class="relative w-100 mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-28-git%E5%9B%9E%E5%88%B0%E6%9C%AA%E6%9D%A5%E6%97%B6%E9%97%B4%E6%97%85%E8%A1%8C%E4%B8%80/ class="link black dim">Git回到未来—时间旅行一</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">依赖命令 副标题：Git cherry-pick命令和Git reset —hard 命令介绍</div></div></div></div><div class="relative w-100 mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-28-git%E5%8F%8D%E8%BD%AC%E6%8F%90%E4%BA%A4/ class="link black dim">GIT反转提交</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">场景：Git rebase可以更改提交历史，但是在多人协同的场景下，更改历史只能针对自己的版本库，无法修改别人的版本库。在这种情况下想要修正一个错误历史提交的正确做法是反转提交，重新做一次提交操作，相当于用错误历史的反向提交，来修正错误的提交。
#反转提交最后一次提交 Git revert HEAD #反转提交最后一次提交的前一次 Git revert HEAD^</div></div></div></div><div class="relative w-100 mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-23-git-reset-soft/ class="link black dim">Git多步悔棋</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">上一篇讲到Git commit --amend单步悔棋的实现，是由Git reset --soft别名而来，这篇将讲解如何利用Git reset --soft多步悔棋 操作步骤 1.实用soft参数调用重置命令，回到指定的提交之前
Git reset --soft HEAD^^ 2.查看版本状态和提交日志，可以看出最后的两次提交被
Git status Git log -l 3.执行提交操作
Git commit -m 'this is soft commit' 4.看看提交日志，“多步悔棋”操作成功</div></div></div></div><div class="relative w-100 mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-22-git-commit-amend/ class="link black dim">Git单步悔棋操作</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">本篇要点
Git commit --amend 此命令简单来讲，就是Git的悔棋操作，我工作中最常见的场景
1.写完一段代码 Git add，Git commit 2.发现一些注释不够完整，或者发现一些错别字 3.改了后再次 Git add，Git commit 4.完事
这个时候问题就来了，对于一个处女座来说，以上的同一件事情产生了两个commit。强迫症就犯了。辣么学会了Git commit的&ndash;amend参数你就可以解放了。Git commit &ndash;amend可以将本次提交和最后一次提交完美融合。是不是处女座的福音？！
manpage解释：
&ndash;amend Replace the tip of the current branch by creating a new commit. The recorded tree is prepared as usual(including the effect of the -i and -o options and explicit pathspec), and the message from the original commitis used as the starting point, instead of an empty message, when no other message is specified from the command line via options such as -m, -F, -c, etc.</div></div></div></div><div class="relative w-100 mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2014-05-27-how-pub-article/ class="link black dim">Git文章发布方法</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Git clone repo new post file Git add new file Git commit push</div></div></div></div><div class="relative w-100 mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-23-git-commit-amend/ class="link black dim">深入浅出'Git commit --amend'</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Git能够提供悔棋的奥秘在于Git的reset命令。Git commit --amend 可以理解为Git reset 的alias。
Git commit --amend ‘this is amend commit’ 等价于
Git reset --soft HEAD^</div></div></div></div></section></div></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://petrie.github.io/>&copy; Petrie's Site 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>