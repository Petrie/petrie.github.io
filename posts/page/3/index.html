<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Petrie's Site</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content><meta name=generator content="Hugo 0.99.1"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link href=/posts/index.xml rel=alternate type=application/rss+xml title="Petrie's Site"><link href=/posts/index.xml rel=feed type=application/rss+xml title="Petrie's Site"><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://petrie.github.io/posts/"><meta itemprop=name content="Posts"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-T6WSQ8M692"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-T6WSQ8M692",{anonymize_ip:!1})}</script></head></head><body class="ma0 avenir bg-near-white"><header><div class="pb3-m pb6-l bg-black"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Petrie's Site</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav><div class="tc-l pv3 ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">Posts</h1></div></div></header><main class=pb7 role=main><article class="pa3 pa4-ns nested-copy-line-height"><section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section><section class="flex-ns flex-wrap justify-around mt5"><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-28-git%E5%8F%8D%E8%BD%AC%E6%8F%90%E4%BA%A4/ class="link black dim">GIT反转提交</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">场景：Git rebase可以更改提交历史，但是在多人协同的场景下，更改历史只能针对自己的版本库，无法修改别人的版本库。在这种情况下想要修正一个错误历史提交的正确做法是反转提交，重新做一次提交操作，相当于用错误历史的反向提交，来修正错误的提交。
#反转提交最后一次提交 Git revert HEAD #反转提交最后一次提交的前一次 Git revert HEAD^</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-28-%E6%89%93%E5%BC%80csv%E6%B8%85%E9%99%A4%E7%A7%91%E5%AD%A6%E8%AE%A1%E6%95%B0%E6%B3%95/ class="link black dim">打开CSV，清除科学计数法</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">原始数据
87967232479237238 87967232479237238 87967232479237238 87967232479237238 87967232479237238 以上数据存为csv文件后，用excel打开后自动展示科学计数法，处理后则不会，处理后数据如下：
="87967232479237238" ="87967232479237238" ="87967232479237238" ="87967232479237238" ="87967232479237238"</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-28-curl%E8%B0%83%E7%94%A8%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%8E%A5%E5%8F%A3/ class="link black dim">curl调用上传文件接口</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">一般场景下，使用curl模拟get，post请求。 今天的manpage是模拟上传文件请求
-F 参数执行文件路径和其他参数 -H 自定义 Host
curl -F "file=@/home/petrie/illegal_driver02.txt;name=file" "http://127.0.0.1:8000/biz/driver_mis/driver/uploadcsv" -H mis.petrie.com.cn</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-28-nignx-php%E4%B8%ADhttp%E8%AF%B7%E6%B1%82%E8%BF%94%E5%9B%9E502/ class="link black dim">Nignx+PHP中HTTP请求返回502</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nginx + PHP-FPM 报 502 错误，我想大部分 RD 都遇到过吧。根据报错的频率，可以分为两种情况，间歇性的502和连续性的502。间歇性502，是后端 PHP-FPM 不可用造成的，间歇性的502一般认为是由于 PHP-FPM 进程重启造成的。连续性502很可能是由于cgi处理时间过长导致超时所致。下面讨论超时相关的参数：
nginx 相关配置:nginx.conf
fastcgi_connect_timeout 300; fastcgi_send_timeout 300; fastcgi_read_timeout 300; php-fpm相关配置:php-fpm.conf
request_terminate_timeout = 10s php 相关配置:php.ini
max_execution_time</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-24-3%E5%88%86%E9%92%9F%E8%AF%BB%E5%AE%8C%E5%AD%A6%E4%BC%9A%E6%8F%90%E9%97%AE/ class="link black dim">3分钟读完《学会提问》</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">一、学会提出好问题 一寸光阴一寸金，在决定花大把光阴取客观评估一个问题之前，最好先问一下自己：“这个问题关我什么事？”
更明智、更进步的做法是一旦思考，目的就是要让我们的思想更有深度，让我们的思想更加精确。 接受还是拒绝一个立场，感情上的依恋绝不应该成为最重要的基础。
一个人有没有头脑，主要的标志就要看他能否提供充足的证据来支撑他的看法，尤其当这些看法存在争议没有定论时更是这样。
找到理由有提示词：
由于、因为这个原因、鉴于、研究显示、第一、第二、第三等等。 请记住结论本身并不是证据，它是一个由证据或其他看法支撑起来的看法。
二、哪些词语意思不明确 只有理解了关键术语和词组的意思（无论是直接的还是含蓄的意思），你才能对一个论证进行评价。 如果你没有要求作者将这些意思不明确的词语解释清楚就贸然接受了他的论证，那你根本就不理解你同意或接受的到底是什么。 总之，谁想要说服你，谁就得负责解释清楚。
三、什么是价值观假设和描述性假设 一旦我们发现了一个价值观假设，我们有权质疑为什么他会做出这个价值观假设
四、推理过程中有没有谬误 常见的几种谬误：
人身攻击：针对个人的人身攻击或侮辱，而不是直接反驳其提出的理由。 滑坡谬误：指假设采取提议的行动会引发一系列不可控的不利事件，而事实上却有现成的程序来防止这类连锁事件的发生。 妄求完美解决方案：错误地假定，如果使用一种方法不能使该问题得到彻底解决，就不采用这种方法。 偷换概念：在论证中关键词语有两种或两种以上的含义，一旦不同含义之间的转换被认出来，这个论证就讲不通了。 诉诸公众：试图通过偏爱多数人一致赞成的观点使某个观点合理化，错误地认为多数人支持的就是合理的。 诉诸权威：指引用某一权威的话来证明结论，但该权威对这一论题并没有特别的专门知识。 诉诸感情：指使用带强烈感情色彩的语言来分散读者或听众的注意力，让他们忽视相关的理由和证据。常被用来加以利用的感情有害怕、希望、爱国主义、怜悯和同情。 稻草人：指歪曲对方的观点，使它容易受到攻击，这样我们攻击的观点事实上根本就不存在。 虚假的两难选择：指当现实中存在两种以上的选择时却假设只有两种解决方案。 一厢情愿：做出错误的假设，即因为我们希望 X 是真实的或者错误的，那么 X 就是真实的或错误的。 四、有没有替代原因 要想弄清楚一件事，就必须弄清楚引起这件事的原因。 要竭力对你自己的偏见保持敏感和警惕。</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-24-zimbardo-time-psychology/ class="link black dim">3分钟读完《津巴多时间心理学》</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">时间观分类 消极的过去时间观 积极的过去时间观 宿命主义的现在时间观 享乐主义的现在时间观 未来时间观 超未来时间观 因此，我们要学会辨别我们是否会牺牲其他时间观念而陷在某种时间观念中。 坚持探索比前进重要的多。偏离正轨一天。
快乐的人具备的特征以及 12 条快乐的方法 表达感激、避免过度沉思、学会原谅（过去）
和善言行的运用、培养良好的关系、增加流动体验、享受生活中的愉悦、照顾好你的身体（现在）
培养乐观心态、制定人生目标、发展应对策略（未来）
宗教实践或培养灵性（超未来）
无论是恋爱还是婚姻，与对方分享时间至关重要。 许下承诺前，确定你们的时间观是否一致
时间与健康、商业和政治 在当前和未来方向之间缺乏平衡，是企业发展道路上的灭顶之灾。 充满魅力的领导者能全神贯注，用极大热情为未来目标努力
具体的措施和方法 对于积极的过去时间观的人应该用未来时间观平衡，因为过度沉溺于美好的过去，习惯停留在舒适区，你不太可能抓住机会去冒险、去尝试新事物。
改变消极的过去，你可以写出过去的消极事件；以及从中得到什么积极信息；这种积极重建后怎样影响你的未来。除此之外，为了构建积极的过去时间观，你还可以做以下事情：多回老家看看，参加传统节日，感谢你的亲人，在家里放充满幸福时光的照片，听经典的老歌，看经典的老电影等。
充分享受现在，进行放松训练，学会瑜伽、冥想，学着讲笑话，主动制定计划，每周用一天完全用来放松，做你一直想做但没做的事情；享受感官的快乐；和小孩、宠物玩耍，允许自己大哭和大笑等。
更加积极面向未来，建立稳定的个人生活，准确感受未来。
最后 为今天、明天、一个月后选择合理、能实现的目标，列出清单，随身携带、时常回顾；制作待办事项清单，根据重要性与否排序，勾出已完成的，每完成一项给自己一个小奖励。把已经完成的目标制成表格，进行心理模拟和可视化演练，读一些好的科幻小说。</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-23-shell-for/ class="link black dim">shell命令行for语句</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">很久就想写一篇关于shell的for语法的博客了。预谋了很久，今天终于提笔 核心语法
for i in `ls`;do echo $i;done; 常见场景：
查询一组host对应的IP
for计数和shell的四则运算
for((i=1;i&lt;=10;i++));do echo $(expr $i \* 4);done for计数2
for i in $(seq 10) for循环命令执行结果
for i in `ls` 或者
for i in $(ls) for循环数组变量
arr=(1 2 3 4);for i in ${arr[@]};do echo $i;done;</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-23-git-reset-soft/ class="link black dim">Git多步悔棋</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">上一篇讲到Git commit --amend单步悔棋的实现，是由Git reset --soft别名而来，这篇将讲解如何利用Git reset --soft多步悔棋 操作步骤 1.实用soft参数调用重置命令，回到指定的提交之前
Git reset --soft HEAD^^ 2.查看版本状态和提交日志，可以看出最后的两次提交被
Git status Git log -l 3.执行提交操作
Git commit -m 'this is soft commit' 4.看看提交日志，“多步悔棋”操作成功</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2012-10-08-javascript-array/ class="link black dim">Array in Javascript</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Javascript数组是无类型的：数组元素可以是任意类型，并且同一个数组中的不同元素也可能有不同的类型。 可以使用非负整数来索引数组。在这种情况下，数值装换为字符串，字符串作为属性名来用。 数组类型索引仅仅是对象属性名的一种特殊类型，这意味着Javascript数组没有越界的概念。 通常，数组的length属性值代表数组中元素的个数。如果数组是稀疏的，length属性值大于元素的个数。 当在数组直接量中省略时不会创建稀疏数组。省略的元素在数组中是存在的，其值为undefined.这和数组元素根本不存在是有一些微妙的区别的。可以用in操作符检测连着之间的区别。 var a1=[,,,] //数组是[undefined,undefined,undefined]
var a2=new Array(3) //该数组根本没有元素
0 in a1 //=> true:a1 在索引0处有一个元素
0 in a2 //=> false:a2在元素0处一个值为undefined的元素
当使用for/in循环时，a1和a2之间的区别也很明显。 在嵌套循环或其他性能非常重要的上下文中，优化代码 for(var i=0,len=keys.length;i&lt; len;i++)
Array.join()方法是String.split()方法的逆向操作，后者是将字符串分割成若干块来创建一个数组。 数组对象的有一些特性是其他对象所没有的 当有新的元素添加到列表中时，自动更新length属性 设置length为一个较小值将截断数组 从Array.prototype中继承一些有用的方法 其类属性为“Array”</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2015-03-05-ci-config/ class="link black dim">CI 环境配置</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">502 bad getway
原因：php-cgi 没启动
Your system folder path does not appear to be set correctly. Please open the following file and correct this: index.php
原因：CI框架 system,application 路径配置错误</div></div></div></div></section><ul class="pagination pagination-default"><li class=page-item><a href=/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/posts/page/2/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/posts/ aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/posts/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class="page-item active"><a aria-current=page aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/posts/page/4/ aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=/posts/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class=page-item><a href=/posts/page/4/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/posts/page/6/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://petrie.github.io/>&copy; Petrie's Site 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>