<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Petrie's Site</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content><meta name=generator content="Hugo 0.99.1"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link href=/posts/index.xml rel=alternate type=application/rss+xml title="Petrie's Site"><link href=/posts/index.xml rel=feed type=application/rss+xml title="Petrie's Site"><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://petrie.github.io/posts/"><meta itemprop=name content="Posts"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-T6WSQ8M692"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-T6WSQ8M692",{anonymize_ip:!1})}</script></head></head><body class="ma0 avenir bg-near-white"><header><div class="pb3-m pb6-l bg-black"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Petrie's Site</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav><div class="tc-l pv3 ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">Posts</h1></div></div></header><main class=pb7 role=main><article class="pa3 pa4-ns nested-copy-line-height"><section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section><section class="flex-ns flex-wrap justify-around mt5"><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-22-git-commit-amend/ class="link black dim">Git单步悔棋操作</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">本篇要点
Git commit --amend 此命令简单来讲，就是Git的悔棋操作，我工作中最常见的场景
1.写完一段代码 Git add，Git commit 2.发现一些注释不够完整，或者发现一些错别字 3.改了后再次 Git add，Git commit 4.完事
这个时候问题就来了，对于一个处女座来说，以上的同一件事情产生了两个commit。强迫症就犯了。辣么学会了Git commit的&ndash;amend参数你就可以解放了。Git commit &ndash;amend可以将本次提交和最后一次提交完美融合。是不是处女座的福音？！
manpage解释：
&ndash;amend Replace the tip of the current branch by creating a new commit. The recorded tree is prepared as usual(including the effect of the -i and -o options and explicit pathspec), and the message from the original commitis used as the starting point, instead of an empty message, when no other message is specified from the command line via options such as -m, -F, -c, etc.</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2014-05-27-how-pub-article/ class="link black dim">Git文章发布方法</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Git clone repo new post file Git add new file Git commit push</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2016-06-21-hello-world/ class="link black dim">Hexo文章发布流程</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick Start Create a new post $ hexo new "My New Post" More info: Writing
Run server $ hexo server More info: Server
Generate static files $ hexo generate More info: Generating
Deploy to remote sites $ hexo deploy More info: Deployment</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2013-08-26-java-load-class-step/ class="link black dim">Java Class 生命周期</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">####Loading (加载） ####Verification(验证） ####Preparation(准备） ####Resolution（解析） ####Unloading（卸载） ####Using（使用） ####Initialization（初始化）</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2014-03-06-jekyll-install-error/ class="link black dim">Jekyll Install Troubleshooting</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">错误内容： ERROR: Error installing jekyll: ERROR: Failed to build gem native extension.
高版本的ruby 导致的问题，修复命令：
sudo apt-get install ruby1.9.1-dev gem install jekyll</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2015-01-30-linux-svn-cmd/ class="link black dim">Linux Svn Cmd</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">svn diff [-r PREV] PATH 对比当前本地的工作拷贝文件(working copy)和任意版本A的差异
svn diff -r94239 对比任意历史版本A和任意历史版本B的差异
svn diff -r94239:94127</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2013-02-18-linux-samba/ class="link black dim">Linux下搭建Samba服务器</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">##Linux下搭建Samba服务器##
安装文件
三种方式获取安装文件
1. 网络下载
在http://rpmfind.net搜索"samba",下载对应rpm文件
2. 安装光盘
通过mount绑定到系统，然后拷贝使用详见
3. iso文件
通过mount绑定到系统，然后拷贝使用详见
安装命令
采用RPM方式安装。
rpm -ivh samba_版本信息.rpm
配置Samba
配置文件位置: /etc/samba/smb.conf</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2012-09-18-linux-mount-iso/ class="link black dim">Linux挂载ISO文件</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Linux 下绑定ISO文件 在/mnt下创建/mnt/centos_iso文件夹
mkdir /mnt/centos_iso
将/home/cksamba/share/下的centos.iso挂在到/mnt/centos_iso文件夹下
mount /home/cksamba/share/centos.iso /mnt/centos_iso -t iso9660 -o ro,loop=/dev/loop0
或者
mount /home/cksamba/share/centos.iso /mnt/centos_iso -o loop -t iso9660</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2012-10-23-lnmp-first-prepare/ class="link black dim">LNMP环境搭建（一）安装前准备</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">博客后续将退出LNMP环境搭建系列博文：
安装依赖库： yum -y install gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel libidn libidn-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers
以上命令在连网下才能进行，如果不能联网需要配置本地yum源，配置方法请点击我以前的文章点击
下载安装所需的源码包： PHP相关程序包 php源码包：点击 php依赖的libmcrypt加密库：点击 php依赖的mcrypt加密库：点击 php依赖的编码转换库：点击 php依赖的mhash库：点击 memcache源码包：点击 eaccelerator源码包：点击 PDO_MYSQL源码包：点击 ImageMagick源码包：点击 imagick源码包：点击 Nginx 相关程序包 Nginx源码包：点击 MySQL相关程序包 MySQL源码包：点击 本文旨在在张宴博客的基础上，使得安装过程更加清晰易懂，更加适合新手。</div></div></div></div><div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height"><div class="bg-white mb3 pa4 gray overflow-hidden"><span class="f6 db">Posts</span><h1 class="f3 near-black"><a href=/posts/2012-10-25-lnmp-second-mysql/ class="link black dim">LNMP环境搭建（二） 编译安装MySQL</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">编译安装MySQL
1. 创建组和用户
groupadd Mysql
useradd -g Mysql Mysql
2. 解压源码包并进入
tar zxvf Mysql-5.5.3-m3.tar.gz
cd Mysql-5.5.3-m3
3. 配置cmake编译参数
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/Mysql \
-DSYSCONFDIR=/usr/local/Mysql/etc \
-DMYSQL_DATADIR=/usr/local/Mysql/data \
-DMYSQL_TCP_PORT=3306 \
-DMYSQL_UNIX_ADDR=/tmp/Mysqld.sock \
-DMYSQL_USER=Mysql \
-DEXTRA_CHARSETS=all \
-DWITH_READLINE=1 \
-DWITH_SSL=system \
-DWITH_EMBEDDED_SERVER=1 \
-DENABLED_LOCAL_INFILE=1 \
-DWITH_INNOBASE_STORAGE_ENGINE=1 \
-DWITHOUT_PARTITION_STORAGE_ENGINE=2
4. 编译安装
make && make install
5. 将安装目录极其子目录的所属组和拥有者设置为Mysql:Mysql
chown -R Mysql:Mysql /usr/local/Mysql
cd ..
6. 以Mysql用户帐号的身份建立数据表</div></div></div></div></section><ul class="pagination pagination-default"><li class=page-item><a href=/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/posts/page/3/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/posts/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/posts/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class="page-item active"><a aria-current=page aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=/posts/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class=page-item><a href=/posts/page/6/ aria-label="Page 6" class=page-link role=button>6</a></li><li class=page-item><a href=/posts/page/5/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/posts/page/6/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://petrie.github.io/>&copy; Petrie's Site 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>